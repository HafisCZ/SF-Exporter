<!DOCTYPE html>
<html lang="en">
    <head>
        <title>SFTools - Statistics</title>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" type="image/png" href="res/favicon.png"/>

        <link rel="stylesheet" href="vendor/css/semantic.min.css"/>

        <link rel="stylesheet" href="css/style.css"/>
        <link rel="stylesheet" href="css/style_rv2.css"/>

        <link rel="stylesheet" href="css/plugins.css"/>

        <script src="vendor/js/jquery.3.4.1.min.js"></script>
        <script src="vendor/js/html2canvas.min.js"></script>
        <script src="vendor/js/semantic.min.js"></script>
        <script src="vendor/js/sentry.bundle.min.js"></script>

        <script src="js/enum.js"></script>
        <script src="js/util.js"></script>
        <script src="js/lang.js"></script>
        <script src="js/changelog.js"></script>

        <script src="js/core/util.js"></script>
        <script src="js/core/playa.js"></script>
        <script src="js/core/core.js"></script>
        <script src="js/plugins.js"></script>
        <script src="js/core/idb.js"></script>
        <script src="js/sim/base.js"></script>
        <script src="js/sim/players.js"></script>
        <script src="js/core/ast.js"></script>

        <script src="js/stats/templates.js"></script>
        <script src="js/stats/settings.js"></script>
        <script src="js/stats/table.js"></script>

        <script src="endpoint/endpoint.js"></script>

        <script src="js/core/ui.js"></script>
        <script src="js/stats/event.js"></script>
        <script src="js/views.js"></script>

        <link href="https://fonts.googleapis.com/css?family=Roboto:300&display=swap" rel="stylesheet">
    </head>
    <body>
        <div class="ui fixed borderless huge menu css-menu">
            <div class="header item"><a class="css-a-blank" href="index.html">SFTools</a> <span class="css-temporary css-hidden" data-intl="stats.topbar.temporary_flag"></span></div>
            <a class="item" id="show-players"><i class="small user icon"></i><span data-intl="stats.topbar.players"></span></a>
            <a class="item" id="show-groups"><i class="small archive icon"></i><span data-intl="stats.topbar.guilds"></span></a>
            <a class="item" id="show-browse"><i class="small database icon"></i><span data-intl="stats.topbar.browse"></span></a>
            <a class="item" id="show-settings"><i class="small edit icon"></i><span data-intl="stats.topbar.scripts"></span></a>
            <a class="item" id="show-files"><i class="small folder open icon"></i><span data-intl="stats.topbar.files"></span></a>
            <a class="item" id="show-options"><i class="small cog icon"></i><span data-intl="stats.topbar.settings"></span></a>
            <div class="right menu" id="show-right-menu">
                <a class="item" href="stats.html?temp" target="_blank"><i class="small user secret icon"></i><span data-intl="stats.topbar.temporary"></span></a>
                <a class="item" href="changelog.html" target="_blank"><i class="small sticky note icon"></i><span data-intl="stats.topbar.changelog"></span></a>
                <a class="item" id="show-profile"><i class="small wrench icon"></i><span data-intl="stats.topbar.profile"></span></a>
            </div>
        </div>

        <!-- FilesView -->
        <div id="view-files" class="ui main container css-hidden sf-container" style="width: 85vw;">
            <div class="ui grid">
                <div class="three wide column">
                    <div class="ui segment">
                        <div class="ui large header" data-intl="stats.files.titles.filters"></div>
                        <div class="ui tiny form" data-op="filters">

                        </div>
                    </div>
                </div>
                <div class="ten wide column">
                    <div data-op="advanced-center">
                        <table class="ui compact fixed table" data-op="advanced-center" style="margin-top: 0;">
                            <thead>
                                <tr>
                                    <th class="clickable text-center" data-op="mark-all"><i class="adjust icon"></i></th>
                                    <th style="width: 16%;" class="text-center" data-intl="stats.files.timestamp"></th>
                                    <th style="width: 12%;" class="text-center" data-intl="stats.files.prefix"></th>
                                    <th style="width: 17%;" data-intl="stats.files.name"></th>
                                    <th style="width: 20%;" data-intl="stats.files.group"></th>
                                    <th style="width: 25%;" data-intl="stats.files.tags.single"></th>
                                </tr>
                            </thead>
                            <tbody data-op="files-search-results">

                            </tbody>
                        </table>
                        <div data-op="dynamic-loader"></div>
                    </div>
                    <div data-op="simple-center">
                        <div data-op="simple-tags">

                        </div>
                        <table class="ui compact fixed table" data-op="simple-center" style="margin-top: 0;">
                            <thead>
                                <tr>
                                    <th class="clickable text-center" data-op="mark-all"><i class="adjust icon"></i></th>
                                    <th style="width: 20%;" class="text-center" data-intl="stats.files.timestamp"></th>
                                    <th style="width: 10%;" class="text-center" data-intl="stats.files.players"></th>
                                    <th style="width: 10%;" class="text-center" data-intl="stats.files.groups"></th>
                                    <th style="width: 15%;" data-intl="stats.files.tags.single"></th>
                                    <th style="width: 15%;" class="text-center" data-intl="stats.files.version"></th>
                                    <th style="width: 15%;"></th>
                                    <th style="width: 5%;"></th>
                                </tr>
                            </thead>
                            <tbody data-op="files-search-results-simple">

                            </tbody>
                        </table>
                        <div data-op="dynamic-loader"></div>
                    </div>
                </div>
                <div class="three wide column">
                    <div class="ui segment">
                        <div class="ui large header" data-intl="stats.files.titles.io"></div>
                        <!-- IMPORT -->
                        <input type="file" multiple data-op="upload" accept=".har,.json" class="ui invisible file input" id="button-upload">
                        <label for="button-upload" class="ui fluid icon secondary button">
                          <i class="file icon"></i> <span data-intl="stats.files.import.file"></span>
                        </label>
                        <label class="fluid ui secondary button sf-margin top-05" data-op="shared">
                            <i class="small share alternate icon"></i> <span data-intl="stats.files.import.shared"></span>
                        </label>
                        <label class="fluid ui secondary button sf-margin top-05" data-op="endpoint">
                            <i class="small gamepad icon"></i> <span data-intl="stats.files.import.game"></span>
                        </label>
                        <hr class="sf-margin top-20"/>
                        <!-- EXPORT -->
                        <div>
                            <div class="ui fluid buttons">
                                <button class="ui secondary basic button" data-op="export">
                                    <i class="small download icon icon"></i> <span data-intl="stats.files.export.all"></span>
                                </button>
                                <button class="ui compact secondary icon button" style="flex: 0 0 3.5em;" data-op="cloud-export">
                                    <i class="share alternate icon"></i>
                                </button>
                            </div>
                        </div>
                        <hr class="sf-margin top-20"/>
                        <div class="text-center">
                            <span data-op="selected-counter" data-intl="stats.files.selected.no"></span> <span data-intl="stats.files.selected.text"></span>
                        </div>
                        <div class="sf-margin top-05">
                            <div class="ui fluid buttons">
                                <button class="ui button secondary basic" data-op="export-partial">
                                    <i class="small download icon icon"></i> <span data-intl="stats.files.export.selected"></span>
                                </button>
                                <button class="ui compact secondary icon button" style="flex: 0 0 3.5em;" data-op="cloud-export-partial">
                                    <i class="share alternate icon"></i>
                                </button>
                            </div>
                        </div>
                        <div class="sf-margin top-05">
                            <div class="ui fluid two buttons">
                                <label class="fluid ui secondary basic button sf-margin top-05" data-op="hide" data-intl-tooltip="stats.files.hide.tooltip">
                                    <i class="small eye slash outline outline icon"></i> <span data-intl="stats.files.hide.label"></span>
                                </label>
                                <button class="ui compact secondary icon button" style="flex: 0 0 3.5em; border-radius: 0 .28571429rem .28571429rem 0;" data-op="hide-migrate" data-intl-tooltip="stats.files.hide.migrate">
                                    <i class="expand icon"></i>
                                </button>
                                <label class="fluid ui secondary basic button sf-margin top-05" data-op="tags">
                                    <i class="small tags icon"></i> <span data-intl="stats.files.tags.multiple"></span>
                                </label>
                            </div>
                        </div>
                        <!-- MERGE -->
                        <label class="fluid ui secondary basic button sf-margin top-05" data-op="merge">
                            <i class="small clone outline icon"></i> <span data-intl="stats.files.merge.selected"></span>
                        </label>
                        <!-- DELETE -->
                        <label class="fluid ui red basic button sf-margin top-05" data-op="delete">
                            <i class="small clone outline icon"></i> <span data-intl="stats.files.delete.selected"></span>
                        </label>
                        <hr class="sf-margin top-20"/>
                        <!-- WIPE -->
                        <label class="fluid ui red basic button" data-op="delete-all">
                            <i class="small trash alternate outline icon"></i> <span data-intl="stats.files.delete.all"></span>
                        </label>
                        <br/>
                        <h3 class="ui centered header" data-intl="stats.files.options.title"></h3>
                        <div class="ui checkbox sf-margin left-20 top-05" data-op="checkbox-advanced">
                            <input type="checkbox">
                            <label data-intl="stats.files.options.advanced"></label>
                        </div>
                        <div class="ui checkbox sf-margin left-20 top-05" data-op="checkbox-hidden">
                            <input type="checkbox">
                            <label data-intl="stats.files.options.hidden"></label>
                        </div>
                        <div class="ui checkbox sf-margin left-20 top-05" data-op="checkbox-export-public-only">
                            <input type="checkbox">
                            <label data-intl="stats.files.options.export_public_only"></label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SettingsView -->
        <div id="view-settings" class="ui main container css-hidden" style="width: 95vw;">
            <div class="ui grid">
                <div class="three wide column">
                    <h3 class="ui centered header" style="margin-top: 0;" data-intl="stats.scripts.settings"></h3>
                    <div class="ui middle aligned selection list css-selection-list css-top-line" data-op="settings-list">

                    </div>
                    <div class="css-template-heading">
                        <h3 class="ui centered header css-template-header" data-intl="stats.scripts.templates"></h3>
                    </div>
                    <div class="ui middle aligned selection list css-selection-list css-top-line" data-op="template-list">

                    </div>
                </div>
                <div class="twelve wide column">
                    <div class="ui form ta-form">
                        <div class="field">
                            <div class="ta-wrapper">
                                <div class="ta-content"></div>
                                <textarea wrap="off" class="ta-area" spellcheck="false"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="one wide column css-settings-buttons">
                    <button class="ui fluid secondary basic button" data-op="wiki-home"><div><i class="book icon"></i><span data-intl="stats.scripts.sidebar.wiki"></span></div></button>
                    <button class="ui fluid secondary basic button" data-op="browse"><div><i class="globe icon"></i><span data-intl="stats.scripts.sidebar.scripts"></span></div></button>
                    <button class="ui fluid secondary basic button" data-op="templates"><div><i class="edit outline icon"></i><span data-intl="stats.scripts.sidebar.templates"></span></div></button>
                    <button class="ui fluid secondary basic button" data-op="save-template"><div><i class="save icon"></i><span data-intl="stats.scripts.sidebar.save"></span></div></button>
                    <br/>
                    <button class="ui fluid secondary basic button" data-op="copy"><div><i class="copy outline icon"></i><span data-intl="stats.scripts.sidebar.copy"></span></div></button>
                    <button class="ui fluid secondary basic button" data-op="prev"><div><i class="undo icon"></i><span data-intl="stats.scripts.sidebar.undo"></span></div></button>
                    <button class="ui fluid secondary basic button" data-op="next"><div><i class="redo icon"></i><span data-intl="stats.scripts.sidebar.redo"></span></div></button>
                </div>
            </div>
        </div>

        <!-- SettingsFloatView -->
        <div id="modal-settings" class="ui basic fullscreen modal text-white css-inverted" style="width: 95vw;">
            <div class="ui grid">
                <div class="three wide column">
                    <div class="css-template-heading">
                        <h3 class="ui centered header css-template-header" data-intl="stats.scripts.templates"></h3>
                    </div>
                    <div class="ui middle aligned selection list inverted css-selection-list css-template-fullheight css-top-line" data-op="template-list">

                    </div>
                </div>
                <div class="twelve wide column">
                    <div class="ui form ta-form">
                        <div class="field">
                            <div class="ta-wrapper">
                                <div class="ta-content"></div>
                                <textarea wrap="off" class="ta-area" spellcheck="false"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="one wide column css-settings-buttons">
                    <button class="ui fluid inverted basic button" data-op="close"><div><i class="close icon"></i><span data-intl="stats.scripts.sidebar.close"></span></div></button>
                    <br/>
                    <button class="ui fluid inverted basic button" data-op="save"><div><i class="save icon"></i><span data-intl="stats.scripts.sidebar.apply"></span></div></button>
                    <br/>
                    <button class="ui fluid inverted basic button" data-op="delete"><div><i class="trash icon"></i><span data-intl="stats.scripts.sidebar.remove"></span></div></button>
                    <br/>
                    <button class="ui fluid inverted basic button" data-op="wiki-home"><div><i class="book icon"></i><span data-intl="stats.scripts.sidebar.wiki"></span></div></button>
                    <button class="ui fluid inverted basic button" data-op="browse"><div><i class="globe icon"></i><span data-intl="stats.scripts.sidebar.scripts"></span></div></button>
                    <button class="ui fluid inverted basic button" data-op="templates"><div><i class="edit outline icon"></i><span data-intl="stats.scripts.sidebar.templates"></span></div></button>
                    <button class="ui fluid inverted basic button" data-op="save-template"><div><i class="save icon"></i><span data-intl="stats.scripts.sidebar.save"></span></div></button>
                    <button class="ui fluid inverted basic button" data-op="save-apply-template"><div><i class="save icon"></i><span data-intl="stats.scripts.sidebar.save_apply"></span></div></button>
                    <br/>
                    <button class="ui fluid inverted basic button" data-op="copy"><div><i class="copy outline icon"></i><span data-intl="stats.scripts.sidebar.copy"></span></div></button>
                    <button class="ui fluid inverted basic button" data-op="prev"><div><i class="undo icon"></i><span data-intl="stats.scripts.sidebar.undo"></span></div></button>
                    <button class="ui fluid inverted basic button" data-op="next"><div><i class="redo icon"></i><span data-intl="stats.scripts.sidebar.redo"></span></div></button>
                </div>
            </div>
        </div>

        <!-- PlayersView -->
        <div id="view-players" class="ui main container css-hidden sf-container">
            <div class="ui fluid icon input pl-searchbar css-searchbar-fix" style="margin-bottom: 1.5rem;">
                <input class="prompt" type="text" placeholder="Filter players by server, class, guild and/or username" data-op="filter">
            </div>
            <div>
                <div class="ui five column grid" data-op="list"></div>
                <div data-op="dynamic-loader"></div>
            </div>
            <div class="fast-table-toggles">
                <div class="ui checkbox" data-op="others">
                    <input type="checkbox">
                    <label data-intl="stats.players.other"></label>
                </div>
                <div class="ui checkbox" data-op="hidden">
                    <input type="checkbox">
                    <label data-intl="stats.players.hidden"></label>
                </div>
            </div>
        </div>

        <!-- GroupsView -->
        <div id="view-groups" class="ui main container css-hidden sf-container">
            <div class="ui five column grid" data-op="list"></div>
            <div class="ui five column grid margin-large-top" data-op="list-secondary"></div>
            <div class="fast-table-toggles">
                <div class="ui checkbox" data-op="others">
                    <input type="checkbox">
                    <label data-intl="stats.guilds.other"></label>
                </div>
                <div class="ui checkbox" data-op="hidden">
                    <input type="checkbox">
                    <label data-intl="stats.guilds.hidden"></label>
                </div>
            </div>
        </div>

        <!-- BrowseView -->
        <div id="view-browse" class="ui main container css-hidden sf-container">
            <div class="ui basic segment margin-none-bottom padding-none-bottom">
                <div class="ui grid">
                    <div class="three wide left aligned column">
                        <div class="ui scrolling dropdown" data-op="timestamp">
                            <div class="default text"></div>
                            <i class="dropdown icon"></i>
                        </div>
                        <br/>
                        <div class="ui scrolling dropdown" data-op="reference">
                            <div class="default text"></div>
                            <i class="dropdown icon"></i>
                        </div>
                    </div>
                    <div class="ten wide middle aligned column">
                        <div class="ui fluid icon input pl-searchbar">
                            <input class="prompt" type="text" placeholder="Filter players by server, class, guild and/or username" data-op="filter">
                        </div>
                    </div>
                    <div class="three wide column">
                        <div class="ui small basic icon right floated buttons">
                            <button class="ui button" data-position="bottom center" data-intl-tooltip="stats.copy.image" data-op="save"><i class="download icon"></i></button>
                            <button class="ui button" data-position="bottom center" data-intl-tooltip="stats.copy.basic" data-op="copy"><i class="copy icon"></i></button>
                            <button class="ui button" data-position="bottom center" data-intl-tooltip="stats.copy.fight" data-op="copy-sim"><i class="copy outline icon"></i></button>
                            <div class="ui top left pointing dropdown button" data-op="configure">
                                <i class="cog icon"></i>
                                <div class="menu" style="overflow-y: scroll; max-height: 50vh;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <table class="sftools-table" data-op="table"></table>
            <div class="fast-table-toggles">
                <div class="ui checkbox" data-op="hidden">
                    <input type="checkbox">
                    <label data-intl="stats.browse.hidden"></label>
                </div>
            </div>
        </div>

        <!-- PlayerDetailFloatView -->
        <div id="modal-playerdetail" class="ui basic large modal"></div>

        <!-- PlayerHistoryView -->
        <div id="view-history" class="ui main container css-hidden sf-container">
            <div class="ui basic segment margin-none-bottom padding-none-bottom">
                <div class="ui grid">
                    <div class="three wide column"></div>
                    <div class="ten wide middle aligned column">
                        <h1 class="ui centered header" data-op="name"></h1>
                    </div>
                    <div class="three wide column">
                        <div class="ui small basic icon right floated buttons">
                            <button class="ui button" data-position="bottom center" data-intl-tooltip="stats.copy.image" data-op="save"><i class="download icon"></i></button>
                            <button class="ui button" data-position="bottom center" data-intl-tooltip="stats.fast_export.label" data-op="share"><i class="cloud upload icon"></i></button>
                            <div class="ui icon top left pointing dropdown button" data-op="export-dropdown">
                                <i class="file archive icon"></i>
                                <div class="menu">
                                    <div class="header" data-intl="stats.fast_export.title"></div>
                                    <div class="item" data-op="export" data-intl="stats.fast_export.all"></div>
                                    <div class="item" data-op="export-l" data-intl="stats.fast_export.latest"></div>
                                    <div class="item" data-op="export-l5" data-intl="stats.fast_export.latest5"></div>
                                </div>
                            </div>
                            <button class="ui button" data-position="bottom center" data-intl-tooltip="stats.copy.basic" data-op="copy"><i class="copy icon"></i></button>
                            <div class="ui top left pointing dropdown button" data-op="configure">
                                <i class="cog icon"></i>
                                <div class="menu" style="overflow-y: scroll; max-height: 50vh;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <table class="sftools-table" data-op="table"></table>
        </div>

        <div id="modal-share" class="ui mini modal">
            <div class="header" data-intl="stats.share.title"></div>
            <div class="content text-left" style="height: 17em;">
                <h4 class="ui header" data-intl="stats.share.options"></h4>
                <div style="margin-top: 0.5em;">
                    <div class="ui checkbox" data-op="once">
                        <input type="checkbox" name="checkbox1">
                        <label for="checkbox1"><span data-intl="stats.share.single_use"></span>
                            <br>
                            <span style="color: gray;" data-intl="stats.share.single_use_notice"></span>
                        </label>
                    </div>
                </div>
                <div style="color: gray; margin-top: 1em;" data-intl="stats.share.expire"></div>
                <div style="margin-top: 1.5em">
                    <h4 class="ui header" data-intl="stats.share.code">:</h4>
                    <div data-op="content-button">
                        <button class="ui fluid button" data-op="send" data-intl="stats.share.get"></button>
                    </div>
                    <div data-op="content-code" class="text-center" style="padding-top: 0.25em;">
                        <code style="white-space: pre; font-size: 1.3em;" data-op="code">ABCDEFGHIJKLMNOPQRSTUVWX</code>
                    </div>
                </div>
            </div>
            <div class="actions">
                <div class="ui approve button" data-intl="stats.share.ok"></div>
            </div>
        </div>

        <div id="modal-onlinetemplates" class="ui small modal">
            <i class="cctemplate close icon"></i>
            <div class="header" data-intl="stats.online_templates.title"></div>
            <div class="content text-center">
                <div class="dimmable">
                    <div class="ui middle aligned grid css-nomargin-grid" style="margin-top: -0.5em; margin-right: -3px;">
                        <div class="row">
                            <div class="text-left seven wide column"><b data-intl="stats.online_templates.description"></b></div>
                            <div class="text-left four wide column"><b data-intl="stats.online_templates.author"></b></div>
                            <div class="text-left three wide column"><b data-intl="stats.online_templates.created_on"></b></div>
                        </div>
                    </div>
                    <div style="overflow-y: scroll; height: 45vh; padding-top: 2.5em; margin-right: -1.5em; padding-bottom: 0;">
                        <div class="ui active inverted dimmer" data-op="dimmer">
                            <div class="ui indeterminate text loader" data-intl="stats.online_templates.loading"></div>
                        </div>
                        <div class="ui middle aligned grid css-nomargin-grid" style="margin-right: 0em;" data-op="content">

                        </div>
                    </div>
                </div>
            </div>
            <div class="content" style="border-top: 1px solid rgba(34,36,38,.15); margin-top: -1.5em;">
                <div class="ui middle aligned grid css-nomargin-grid">
                    <div class="fifteen wide column">
                        <div class="ui fluid small input">
                            <input type="text" data-intl-placeholder="stats.online_templates.code" data-op="private-value">
                        </div>
                    </div>
                    <div class="one wide column css-template-buttons">
                        <div class="ui icon right floated small buttons">
                            <button class="ui button" data-op="private"><i class="play icon"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="modal-templates" class="ui small modal">
            <i class="cctemplate close icon"></i>
            <div class="header" data-intl="stats.templates.title"></div>
            <div class="content" style="padding: 0;">
                <div class="dimmable">
                    <div class="ui two column grid css-nomp-grid" style="height:35em;">
                        <div class="ui inverted dimmer" data-op="dimmer">
                            <div class="ui indeterminate text loader"data-intl="stats.templates.loading"></div>
                        </div>
                        <div class="column" style="height: 100%;">
                            <div class="ui middle aligned selection list css-template-list css-templates-list" data-op="templates">

                            </div>
                        </div>
                        <div class="column" style="border-left: 1px solid rgba(34,36,38,.15);">
                            <div class="ui form" style="padding-top: 1em; padding-left: 1em; padding-right: 1em; height: 100%;">
                                <div class="field">
                                    <div class="ui icon fluid input">
                                        <input class="text-center" type="text" disabled data-op="name">
                                        <i class="link external alternate icon" data-op="open"></i>
                                    </div>
                                </div>
                                <div class="two fields">
                                    <div class="field">
                                        <label data-intl="stats.templates.form.changed_on"></label>
                                        <div class="ui small fluid input">
                                            <input disabled type="text" data-op="timestamp" style="border: none;">
                                        </div>
                                    </div>
                                    <div class="field">
                                        <label data-intl="stats.templates.form.version"></label>
                                        <div class="ui small fluid input">
                                            <input disabled type="text" data-op="version" style="border: none;">
                                        </div>
                                    </div>
                                </div>
                                <div class="field">
                                    <label data-intl="stats.templates.form.compatibility"></label>
                                    <div class="ui small fluid input">
                                        <input disabled type="text" data-op="compat" style="border: none;">
                                    </div>
                                </div>
                                <div class="field">
                                    <label data-intl="stats.templates.form.published_on"></label>
                                    <div class="ui small fluid input">
                                        <input disabled type="text" data-op="timestamp2" style="border: none;">
                                    </div>
                                </div>
                                <div class="two fields">
                                    <div class="nine wide field">
                                        <label data-intl="stats.templates.form.code"></label>
                                        <div class="ui small fluid input">
                                            <input readonly type="text" data-op="key" style="border: none; font-family: monospace,monospace;">
                                        </div>
                                    </div>
                                    <div class="seven wide field">
                                        <label><br/></label>
                                        <div class="ui buttons">
                                            <button class="ui basic secondary button" data-intl-tooltip="stats.templates.form.publish_tooltip" data-op="publish"><i class="globe icon"></i><span data-intl="stats.templates.form.publish"></span></button>
                                            <button class="ui icon red basic button" data-intl-tooltip="stats.templates.form.unpublish_tooltip" data-op="unpublish"><i class="trash icon"></i></button>
                                        </div>
                                    </div>
                                </div>
                                <br/>
                                <div class="fields" style="margin-top: 5em;">
                                    <div class="seven wide field">
                                        <button class="ui fluid basic secondary button" data-intl-tooltip="stats.templates.form.update_tooltip" data-op="update"><i class="recycle icon"></i><span data-intl="stats.templates.form.update"></span></button>
                                    </div>
                                    <div class="two wide field"></div>
                                    <div class="seven wide field">
                                        <button class="ui fluid red basic button" data-intl-tooltip="stats.templates.form.remove_tooltip" data-op="delete"><i class="trash icon"></i><span data-intl="stats.templates.form.remove"></span></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="modal-onlinefile" class="ui mini modal">
            <div class="header" data-intl="stats.files.online.title"></div>
            <div class="content text-center">
                <p data-intl="stats.files.online.prompt"></p>
                <div class="ui fluid input">
                    <input type="text" placeholder="" data-op="input" style="text-align: center;">
                </div>
                <p data-op="extra" style="color: red; margin-top: 1em;" data-intl="stats.files.online.invalid"></p>
            </div>
            <div class="actions">
                <div class="ui cancel button" data-intl="stats.files.online.cancel"></div>
                <div class="ui approve button" data-intl="stats.files.online.ok"></div>
            </div>
        </div>

        <!-- GroupDetailView -->
        <div id="view-groupdetail" class="ui main container css-hidden sf-container">
            <div class="ui segment center aligned basic">
                <div class="ui extreme header" data-op="name"></div>
            </div>
            <div class="ui basic segment margin-none-bottom padding-none-bottom">
                <div class="ui grid">
                    <div class="three wide middle aligned column">
                        <div class="ui scrolling dropdown" data-op="timestamp">
                            <div class="default text"></div>
                            <i class="dropdown icon"></i>
                        </div>
                    </div>
                    <div class="two wide middle aligned column" data-intl="stats.group.compared_to"></div>
                    <div class="three wide middle aligned column">
                        <div class="ui scrolling dropdown" data-op="reference">
                            <div class="default text"></div>
                            <i class="dropdown icon"></i>
                        </div>
                    </div>
                    <div class="eight wide column">
                        <div class="ui small basic icon right floated buttons">
                            <button class="ui button" data-intl-tooltip="stats.copy.image" data-op="save"><i class="download icon"></i></button>
                            <button class="ui button" data-intl-tooltip="stats.fast_export.label" data-op="share"><i class="cloud upload icon"></i></button>
                            <div class="ui icon top left pointing dropdown button" data-op="export-dropdown">
                                <i class="file archive icon"></i>
                                <div class="menu">
                                    <div class="header" data-intl="stats.fast_export.title"></div>
                                    <div class="item" data-op="export" data-intl="stats.fast_export.all"></div>
                                    <div class="item" data-op="export-l" data-intl="stats.fast_export.latest"></div>
                                    <div class="item" data-op="export-l5" data-intl="stats.fast_export.latest5"></div>
                                    <div class="item" data-op="export-s" data-intl="stats.fast_export.selected"></div>
                                    <div class="item" data-op="export-sr" data-intl="stats.fast_export.selected_both"></div>
                                </div>
                            </div>
                            <button class="ui button" data-intl-tooltip="stats.copy.basic" data-op="copy"><i class="copy icon"></i></button>
                            <button class="ui button" data-intl-tooltip="stats.copy.fight" data-op="copy-sim"><i class="copy outline icon"></i></button>
                            <div class="ui top left pointing dropdown button" data-op="configure">
                                <i class="cog icon"></i>
                                <div class="menu" style="overflow-y: scroll; max-height: 50vh;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <table class="sftools-table" data-op="table"></table>
        </div>

        <!-- ProfilesView -->
        <div id="view-profiles" class="ui main container css-hidden sf-container">
            <div class="ui grid" data-op="list">

            </div>
        </div>

        <!-- OptionsView -->
        <div id="view-options" class="ui main container css-hidden sf-container">
            <div class="ui grid">
                <div class="six wide column">
                    <div class="ui segment">
                        <h3 class="ui centered header" data-intl="stats.settings.title"></h3>
                        <div class="ui checkbox sf-margin top-05" data-op="checkbox-alwaysprev">
                            <input type="checkbox">
                            <label data-intl="stats.settings.always_prev"></label>
                        </div>
                        <br/>
                        <div class="ui checkbox sf-margin top-05" data-op="checkbox-empty-groups">
                            <input type="checkbox">
                            <label data-intl="stats.settings.empty_groups"></label>
                        </div>
                        <br/>
                        <div class="ui checkbox sf-margin top-05" data-op="checkbox-obfuscated">
                            <input type="checkbox">
                            <label data-intl="stats.settings.obfuscated"></label>
                        </div>
                        <br/>
                        <div class="ui checkbox sf-margin top-05" data-op="checkbox-insecure">
                            <input type="checkbox">
                            <label data-intl="stats.settings.insecure"></label>
                        </div>
                        <br/>
                        <div class="ui checkbox sf-margin top-05" data-op="checkbox-unsafe-delete">
                            <input type="checkbox">
                            <label data-intl="stats.settings.unsafe_delete"></label>
                        </div>
                        <br/>
                        <div class="ui checkbox sf-margin top-05" data-op="checkbox-terms">
                            <input type="checkbox">
                            <label data-intl="stats.settings.terms"></label>
                        </div>
                        <br/>
                        <br/>
                        <div class="ui form sf-margin top-05">
                            <div class="field">
                                <label data-intl="stats.settings.tab"></label>
                                <select class="ui fluid selection dropdown" data-op="dropdown-tab">
                                    <option value="browse" data-intl="stats.topbar.browse"></option>
                                    <option value="groups" data-intl="stats.topbar.guilds"></option>
                                    <option value="players" data-intl="stats.topbar.players"></option>
                                    <option value="files" data-intl="stats.topbar.files"></option>
                                </select>
                            </div>
                        </div>
                        <br>
                        <div class="ui form sf-margin top-05">
                            <div class="field">
                                <label data-intl="stats.settings.preload"></label>
                                <select class="ui fluid selection dropdown" data-op="dropdown-load-rows">
                                    <option value="50">50</option>
                                    <option value="100">100</option>
                                    <option value="250">250</option>
                                    <option value="500">500</option>
                                    <option value="1000">1000</option>
                                </select>
                            </div>
                        </div>
                        <br>
                        <hr>
                        <h3 class="ui centered header" data-intl="stats.settings.recovery.title"></h3>
                        <p data-intl="stats.settings.recovery.description#"></p>
                        <div class="sf-margin top-5 ui two buttons">
                            <div class="fluid ui secondary button" data-op="export">
                                <i class="small download icon"></i> <span data-intl="stats.settings.recovery.export"></span>
                            </div>
                            <label class="fluid ui button" style="background-color: orange; border-top-right-radius: .28571429rem; border-bottom-right-radius: .28571429rem;" for="button-recovery-upload">
                                <i class="small upload icon"></i> <span data-intl="stats.settings.recovery.import"></span>
                            </label>
                            <input type="file" accept=".json" class="css-hidden" id="button-recovery-upload" data-op="import">
                        </div>
                    </div>
                </div>
                <div class="ten wide column">
                    <div class="ui segment">
                        <div class="ui grid">
                            <div class="five wide column"></div>
                            <div class="six wide column"><h3 class="ui centered header" data-intl="stats.settings.actions.title"></h3></div>
                            <div class="five wide column">
                                <div class="ui small basic icon right floated buttons" style="margin-top: -0.5rem; margin-bottom: 0.5rem;">
                                    <button class="ui button" data-op="discard" data-intl-tooltip="stats.settings.actions.discard" data-position="bottom center"><i class="black undo icon"></i></button>
                                    <button class="ui button" data-op="save" data-intl-tooltip="stats.settings.actions.save" data-position="bottom center"><i class="black save icon"></i></button>
                                </div>
                            </div>
                        </div>
                        <div class="ui form ta-form" style="height: 30em;">
                            <div class="field">
                                <div class="ta-wrapper">
                                    <div class="ta-content"></div>
                                    <textarea wrap="off" class="ta-area" spellcheck="false"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- UI Handler -->
        <script type="text/javascript">
            Site.ready(function (urlParams) {
                let profile = ProfileManager.getProfile(urlParams.get('profile'));
                if (urlParams.has('temp')) {
                    Preferences.temporary();

                    $('#show-profile').addClass('profiles-disabled');
                    $('.css-temporary').removeClass('css-hidden');

                    profile = {
                        temporary: true
                    };
                } else if (urlParams.has('slot')) {
                    profile['slot'] = urlParams.get('slot');
                }

                // Save current profile in UI
                UI.profile = profile

                Loader.toggle(true);
                DatabaseManager.load(profile).then(function () {
                    UI.init({
                        Settings: new SettingsView('view-settings'),
                        SettingsFloat: new SettingsFloatView('modal-settings'),
                        Files: new FilesView('view-files'),
                        Players: new PlayersView('view-players'),
                        Groups: new GroupsView('view-groups'),
                        Browse: new BrowseView('view-browse'),
                        PlayerHistory: new PlayerHistoryView('view-history'),
                        PlayerDetail: new PlayerDetailFloatView('modal-playerdetail'),
                        GroupDetail: new GroupDetailView('view-groupdetail'),
                        Templates: new TemplatesView('modal-templates'),
                        OnlineTemplates: new OnlineTemplatesView('modal-onlinetemplates'),
                        OnlineFiles: new OnlineFilesView('modal-onlinefile'),
                        OnlineShareFile: new OnlineShareFileView('modal-share'),
                        Profiles: new ProfilesView('view-profiles'),
                        Options: new OptionsView('view-options')
                    });

                    UI.register(UI.Players, 'show-players');
                    UI.register(UI.Groups, 'show-groups');
                    UI.register(UI.Browse, 'show-browse');
                    UI.register(UI.Files, 'show-files');
                    UI.register(UI.Settings, 'show-settings');
                    UI.register(UI.Profiles, 'show-profile');
                    UI.register(UI.Options, 'show-options');

                    Loader.toggle(false);

                    UI.show({
                        'players': UI.Players,
                        'groups': UI.Groups,
                        'browse': UI.Browse,
                        'files': UI.Files
                    }[SiteOptions.tab] || UI.Groups);

                    if (urlParams.has('template')) {
                        DialogController.open(SaveOnlineScriptDialog, urlParams.get('template'));
                    }
                }).catch(function (e) {
                    Loader.toggle(false);
                    DialogController.open(ErrorDialog, `<h4 class="ui white header text-center">${intl('database.fatal_error#')}</h4><br>${e.message}`);
                    Logger.error(e, 'Database could not be opened!');
                });
            });
        </script>
    </body>
</html>
