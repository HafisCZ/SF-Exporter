<!DOCTYPE html>
<html lang="en">
    <head>
        <title>SFTools</title>

        <meta charset="utf-8">
        <meta name="description" content="Collection of tools for Shakes & Fidget">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" type="image/png" href="res/favicon.png"/>

        <link rel="stylesheet" href="css/pages/index.css"/>

        <script src="vendor/js/jquery.3.4.1.min.js"></script>
        <script src="vendor/js/semantic.min.js"></script>

        <script src="js/core/core.js"></script>
        <script src="js/changelog.js"></script>
        <script src="js/views.js"></script>
    </head>
    <body class="inverted">
        <img src="res/drvcs.png" class="position-fixed left-8 bottom-0 drvcs" width="300"/>
        <div class="ui inverted fixed borderless huge menu">
            <div class="header item">SFTools</div>
        </div>
        <div class="ui main container">
            <div data-tab="about" class="mentions-container" style="display: none;">
                <div class="pt-4 text-8 text-center">
                    <a href="https://discord.gg/XWfSwe3" target="_blank" class="!text-orange"><i class="discord icon"></i> Shakes &amp; Fidget Tavern</a>
                </div>
                <h2 data-intl="index.roles.admin"></h2>
                <div class="mentions">
                    <span>mar21</span>
                </div>
                <h2 data-intl="index.roles.helper"></h2>
                <div class="mentions">
                    <span>Acclamator</span>
                    <span>Zorago</span>
                    <span>BoeseMelone</span>
                    <a href="https://www.youtube.com/channel/UCMsDR7QC6GPF3Wg4hMQIXKw" target="_blank">Zeraffim</a>
                    <span>aszu</span>
                    <span>psychoazubi</span>
                    <span>Strider</span>
                    <span>Kraggori</span>
                    <span>Timhot3p</span>
                    <span>Minidave</span>
                    <span>burningcherry</span>
                    <span>Papa Schlumpf</span>
                    <span>MajkG</span>
                    <span>Enza</span>
                </div>
                <h2 data-intl="index.roles.tester"></h2>
                <div class="mentions">
                    <span data-title="the Tracker">bl4ckwoolf</span>
                    <span>AreYouAWiiizard</span>
                    <span>Wärkki</span>
                    <span>suri</span>
                </div>
                <h2 data-intl="index.roles.wiki"></h2>
                <div class="mentions">
                    <span>rafa97sam</span>
                </div>
                <h2 data-intl="index.roles.translator"></h2>
                <div class="mentions">
                    <div class="translator"><img src="/res/flags/de.svg" height="22"><span>Zorago</span></div>
                    <div class="translator"><img src="/res/flags/de.svg" height="22"><span>DrKuulJulian</span></div>
                    <div class="translator"><img src="/res/flags/de.svg" height="22"><span>Zwackelzahn</span></div>
                    <div class="translator"><img src="/res/flags/de.svg" height="22"><span>KleoZyn</span></div>
                    <div class="translator"><img src="/res/flags/pl.svg" height="22"><span>Koksuone</span></div>
                    <div class="translator"><img src="/res/flags/pl.svg" height="22"><span>ThreeG</span></div>
                    <div class="translator"><img src="/res/flags/pl.svg" height="22"><span>Haaaku</span></div>
                    <div class="translator"><img src="/res/flags/it.svg" height="22"><span>Mathire</span></div>
                    <div class="translator"><img src="/res/flags/it.svg" height="22"><span>Larry84</span></div>
                    <div class="translator"><img src="/res/flags/pt.svg" height="22"><span>dracareys</span></div>
                    <div class="translator"><img src="/res/flags/pt.svg" height="22"><span>seedbox</span></div>
                    <div class="translator"><img src="/res/flags/es.svg" height="22"><span>Wärkki</span></div>
                    <div class="translator"><img src="/res/flags/es.svg" height="22"><span>Necio</span></div>
                    <div class="translator"><img src="/res/flags/ch.svg" height="22"><span>DrKuulJulian</span></div>
                    <div class="translator"><img src="/res/flags/fr.svg" height="22"><span>MaxiYann</span></div>
                    <div class="translator"><img src="/res/flags/fr.svg" height="22"><span>KaYa 43v3r</span></div>
                    <div class="translator"><img src="/res/flags/hu.svg" height="22"><span>Balogh Roland</span></div>
                    <div class="translator"><img src="/res/flags/hu.svg" height="22"><span>Althi</span></div>
                    <div class="translator"><img src="/res/flags/pg.svg" height="22"><span>Eggman</span></div>
                    <div class="translator"><img src="/res/flags/cs.svg" height="22"><span>FarSniper</span></div>
                </div>
                <h2 data-intl="index.roles.mention"></h2>
                <div class="mentions">
                    <span>Leander</span>
                    <span>Kowalski</span>
                    <span>json</span>
                    <a href="https://www.youtube.com/user/MrDORZER" target="_blank">DORZER</a>
                    <a href="https://www.youtube.com/channel/UCD52HJdjjh7Nb-sbtSgt_Jw" target="_blank">N3utr4L</a>
                    <a href="https://www.youtube.com/channel/UCc2QwhLNDyDrg3WA2PmFRsA" target="_blank">Azuria</a>
                    <a href="https://www.twitch.tv/xbombaygin" target="_blank">xBombayGin</a>
                    <span data-title="the duck boy">Klausi</span>
                </div>
            </div>
            <div class="ui four column stackable grid" data-tab="menu">
                <div class="column">
                    <a href="stats.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.stats.desc"></div>
                            <div class="dvheader singleline" data-intl="index.stats.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="stats.html?temp">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.temp.desc"></div>
                            <div class="dvheader singleline">
                                <span class="dvholder"><span data-intl="index.temp.title"></span><span class="dvchild" data-intl="index.temp.temporary"></span></span>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="https://github.com/HafisCZ/sf-tools/wiki">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.wiki.desc"></div>
                            <div class="dvheader singleline" data-intl="index.wiki.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="changelog.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.changelog.desc"></div>
                            <div class="dvheader singleline" data-intl="index.changelog.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="inventory.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.inventory.desc"></div>
                            <div class="dvheader twoline" data-intl="index.inventory.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="idle.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.idle.desc"></div>
                            <div class="dvheader twoline" data-intl="index.idle.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="calendar.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.calendar.desc"></div>
                            <div class="dvheader twoline" data-intl="index.calendar.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="attributes.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.atts.desc"></div>
                            <div class="dvheader twoline" data-intl="index.atts.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="simulator.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.players.desc"></div>
                            <div class="dvheader twoline" data-intl="index.players.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="guilds.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.guild.desc"></div>
                            <div class="dvheader twoline" data-intl="index.guild.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="pets.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.pets.desc"></div>
                            <div class="dvheader twoline" data-intl="index.pets.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="dungeons.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.dungeons.desc"></div>
                            <div class="dvheader twoline" data-intl="index.dungeons.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="hydra.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.hydra.desc"></div>
                            <div class="dvheader twoline" data-intl="index.hydra.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="hellevator.html">
                        <div class="dvselection wip">
                            <div class="dvdescription" data-intl="index.hellevator.desc"></div>
                            <div class="dvheader singleline" data-intl="index.hellevator.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="analyzer.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.analyzer.desc"></div>
                            <div class="dvheader twoline" data-intl="index.analyzer.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="blacksmith.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.smith.desc"></div>
                            <div class="dvheader twoline" data-intl="index.smith.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="underworld.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.underworld.desc"></div>
                            <div class="dvheader singleline" data-intl="index.underworld.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="fortress.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.fortress.desc"></div>
                            <div class="dvheader singleline" data-intl="index.fortress.title"></div>
                        </div>
                    </a>
                </div>
            </div>
            <div class="ui four column stackable grid" data-tab="menu">
                <div class="sixteen wide column">
                    <h1 class="ui inverted orange text-center header" data-intl="index.others"></h1>
                </div>
                <div class="column">
                    <a href="https://hellevatorrewards.12hp.de/" target="_blank">
                        <div class="dvselection author-small" data-author="ÐonMuErte">
                            <div class="static dvheader twoline">Hellevator</div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="https://snfsmithsim.12hp.de/" target="_blank">
                        <div class="dvselection" data-author="ÐonMuErte">
                            <div class="static dvheader twoline">Smith Simulator</div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="https://en.sfporadnik.pl/" target="_blank">
                        <div class="dvselection author-small" data-author="ThreeG">
                            <div class="static dvheader twoline">SF&nbsp;Poradnik</div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="https://bit.ly/Rune-bonuses" target="_blank">
                        <div class="dvselection" data-author="Zorago">
                            <div class="static dvheader twoline">Rune Bonuses</div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="https://goldpit.12hp.de/" target="_blank">
                        <div class="dvselection author-small" data-author="ÐonMuErte &amp; KaYa43v3r">
                            <div class="static dvheader twoline">Gold Pit</div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
        <div class="footer">
            <div class="footer-item"></div>
            <div class="footer-item">
                <a class="pointer-events-all !text-orange cursor-pointer" id="credits-toggle"><i class="trophy icon"></i><span data-intl="index.toggle"></span></a> &bullet; <a class="pointer-events-all !text-orange cursor-pointer" href="https://crowdin.com/project/sftools" target="_blank"><i class="language icon"></i> Help with translations</a><br>
                <a class="pointer-events-all !text-orange cursor-pointer" href="https://beta.sftools.mar21.eu" target="_blank"><i class="tools icon"></i> Check out public beta</a> &bullet; <a class="pointer-events-all !text-orange cursor-pointer" href="https://ko-fi.com/D1D02FFQR" target="_blank"><i class="coffee icon"></i> Give mar some shrooms</a><br/>
                Copyright <i class="copyright outline icon"></i>2019 - 2023 mar21 | mar21#4673 | support@mar21.eu<br>
                Distributed <b>AS IS</b>. This site is not affiliated with <b>Playa Games</b> in any way.
            </div>
        </div>
        <script>
            Site.ready(null, function () {
                const $drvcs = $('.drvcs');
                if (Site.isEvent('winter')) {
                    $drvcs.attr('src', 'res/drvcs_winter.png');
                }

                function formatDate (date) {
                    if (typeof date !== 'object') {
                        date = new Date(date);
                    }

                    return date.toLocaleString('en-GB', { dateStyle: 'long', timeStyle: 'short' }).replace(' at', '');
                }

                const item = Store.shared.get('version', { expire: 0 });
                if (item.expire < Date.now()) {
                    $.ajax(
                        "https://api.github.com/repos/hafiscz/sf-tools/commits",
                        {
                            data: {
                                per_page: 1
                            },
                            dataType: 'jsonp',
                            type: 'get'
                        }
                    ).then(function (response) {
                        const date = new Date(response.data[0].commit.author.date);
                        const message = response.data[0].commit.message;
                        const sha = response.data[0].sha;

                        $.ajax(
                            `https://api.github.com/repos/hafiscz/sf-tools/compare/88b32f42210cb848c77b7891f6e47a0000876ed4...${ sha }`,
                            {
                                data: {
                                    per_page: 1
                                },
                                dataType: 'jsonp',
                                type: 'get'
                            }
                        ).then(function (response2) {
                            const version = parseInt(response2.data.total_commits) + 1;

                            Store.shared.set('version', {
                                timestamp: date.getTime(),
                                message: message,
                                version: version,
                                expire: Date.now() + 1800000
                            })

                            $(".footer-item").first().html(`v${ MODULE_VERSION_MAJOR }.${ version }<br/>Last updated on ${ formatDate(date) } - ${ message }`);
                        })
                    });
                } else {
                    $(".footer-item").first().html(`v${ MODULE_VERSION_MAJOR }.${ item.version }<br/>Last updated on ${ formatDate(item.timestamp) } - ${ item.message }`);
                }

                document.getElementById('credits-toggle').addEventListener('click', function () {
                    $('[data-tab="menu"]').toggle();
                    $('[data-tab="about"]').toggle();
                })
            })
        </script>
    </body>
</html>
