<!DOCTYPE html>
<html lang="en">
    <head>
        <title>SFTools</title>

        <meta charset="utf-8">
        <meta name="description" content="Collection of tools for Shakes & Fidget">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" type="image/png" href="res/favicon.png"/>

        <link rel="stylesheet" href="vendor/css/semantic.min.css"/>
        <link rel="stylesheet" href="css/style.css"/>
        <link rel="stylesheet" href="css/index.css"/>

        <link href="https://fonts.googleapis.com/css?family=Roboto:300&display=swap" rel="stylesheet">

        <script src="vendor/js/jquery.3.4.1.min.js"></script>
        <script src="vendor/js/semantic.min.js"></script>

        <script src="js/core/core.js"></script>
        <script src="js/changelog.js"></script>
        <script src="js/views.js"></script>
    </head>
    <body>
        <img src="res/drvcs.png" style="position: fixed; left: 2em; bottom: 0em;" width="300"/>
        <div class="ui fixed borderless huge menu css-menu">
            <div class="header item">SFTools</div>
        </div>
        <div class="ui main container">
            <div class="ui one columns stackable grid" style="display: none; margin-top: 1.5em; margin-bottom: 3.5em;" id="sf-about">
                <div class="newcol column">
                    <h3 data-intl="index.roles.admin"></h3>
                    <h2 class="role-admin">mar21</h2>
                </div>
                <div class="newcol column">
                    <h3 data-intl="index.roles.helper"></h3>
                    <h2 class="role-veteran">BoeseMelone</h2>
                    <a href="https://www.youtube.com/channel/UCMsDR7QC6GPF3Wg4hMQIXKw"><h2 class="role-mentor linked">Zeraffim</h2></a>
                    <h2 class="role-admin">Zorago</h2>
                    <h2 class="role-moderator">aszu</h2>
                    <div class="divider"></div>
                    <h2 class="role-admin">Acclamator</h2>
                    <h2 class="role-mentor">Strider</h2>
                    <h2 class="role-admin">psychoazubi</h2>
                    <h2 class="role-mentor">Kraggori</h2>
                    <h2 class="role-toolwizard">Timhot3p</h2>
                    <div class="divider"></div>
                    <h2 class="role-veteran">Minidave</h2>
                    <h2 class="role-toolwizard">burningcherry</h2>
                    <h2 class="role-veteran">Papa Schlumpf</h2>
                    <h2 class="role-moderator">MajkG</h2>
                    <h2 class="role-adventurer">Enza</h2>
                </div>
                <div class="newcol column" style="display: flex;">
                    <div style="flex: 50%;">
                        <h3 data-intl="index.roles.tester"></h3>
                        <h2 class="role-adventurer">bl4ckwoolf <span class="extras">the Tracker<span></h2>
                        <h2 class="role-adventurer">AreYouAWiiizard</h2>
                        <div class="divider"></div>
                        <h2 class="role-adventurer">WÃ¤rkki</h2>
                        <h2 class="role-mentor">suri</h2>
                    </div>
                    <div style="flex: 50%;">
                        <h3 data-intl="index.roles.wiki"></h3>
                        <h2 class="role-moderator">rafa97sam</h2>
                    </div>
                </div>
                <div class="newcol column" style="display: flex;">
                    <div style="flex: 50%;">
                        <h3 data-intl="index.roles.translator"></h3>
                        <h2 class="role-veteran">Koksuone - Polish</h2>
                        <h2 class="role-adventurer">dracareys - Portuguese</h2>
                        <div class="divider"></div>
                        <h2 class="role-adventurer">Mathire - Italian</h2>
                        <h2 class="role-toolwizard">Eggman - Pig Latin</h2>
                        <div class="divider"></div>
                        <h2 class="role-moderator">DrKuulJulian - German & Swiss</h2>
                    </div>
                    <div style="flex: 50%;">
                        <h3 data-intl="index.roles.mention"></h3>
                        <h2 class="role-playa">Leander</h2>
                        <h2 class="role-playa">Playa TD</h2>
                        <h2 class="role-playa">Alex <span class="extras">the good dev<span></h2>
                        <div class="divider"></div>
                        <a href="https://www.youtube.com/user/MrDORZER"><h2 class="role-promoter linked">DORZER</h2></a>
                        <a href="https://www.youtube.com/channel/UCD52HJdjjh7Nb-sbtSgt_Jw"><h2 class="role-promoter linked">N3utr4L</h2></a>
                        <a href="https://www.youtube.com/channel/UCc2QwhLNDyDrg3WA2PmFRsA"><h2 class="role-promoter linked">Azuria</h2></a>
                        <div class="divider"></div>
                        <a href="https://www.twitch.tv/xbombaygin"><h2 class="role-promoter linked">xBombayGin</h2></a>
                        <h2 class="role-veteran">Klausi <span class="extras">the duck boy<span></h2>
                    </div>
                </div>
                <div class="column text-center" style="font-size: 160%;">
                    <a href="https://discord.gg/XWfSwe3"><i class="discord icon"></i> Shakes & Fidget Tavern</a>
                </div>
            </div>
            <div class="ui four column stackable grid" id="sf-menu">
                <div class="column">
                    <a href="stats.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.stats.desc"></div>
                            <div class="dvheader singleline" data-intl="index.stats.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="stats.html?temp">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.temp.desc"></div>
                            <div class="dvheader singleline">
                                <span class="dvholder"><span data-intl="index.temp.title"></span><span class="dvchild" data-intl="index.temp.temporary"></span></span>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="https://github.com/HafisCZ/sf-tools/wiki">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.wiki.desc"></div>
                            <div class="dvheader singleline" data-intl="index.wiki.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="https://bit.ly/Rune-bonuses">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.runes.desc"></div>
                            <div class="dvheader twoline" data-intl="index.runes.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="inventory.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.inventory.desc"></div>
                            <div class="dvheader twoline" data-intl="index.inventory.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="idle.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.idle.desc"></div>
                            <div class="dvheader twoline" data-intl="index.idle.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="calendar.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.calendar.desc"></div>
                            <div class="dvheader twoline" data-intl="index.calendar.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="attributes.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.atts.desc"></div>
                            <div class="dvheader twoline" data-intl="index.atts.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="simulator.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.players.desc"></div>
                            <div class="dvheader twoline" data-intl="index.players.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="guilds.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.guild.desc"></div>
                            <div class="dvheader twoline" data-intl="index.guild.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="pets.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.pets.desc"></div>
                            <div class="dvheader twoline" data-intl="index.pets.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="dungeons.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.dungeons.desc"></div>
                            <div class="dvheader twoline" data-intl="index.dungeons.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="hydra.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.hydra.desc"></div>
                            <div class="dvheader twoline" data-intl="index.hydra.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="fights.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.fights.desc"></div>
                            <div class="dvheader twoline" data-intl="index.fights.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="digest.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.digest.desc"></div>
                            <div class="dvheader twoline" data-intl="index.digest.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="blacksmith.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.smith.desc"></div>
                            <div class="dvheader twoline" data-intl="index.smith.title"></div>
                        </div>
                    </a>
                </div>
                <div class="column">
                    <a href="underworld.html">
                        <div class="dvselection">
                            <div class="dvdescription" data-intl="index.underworld.desc"></div>
                            <div class="dvheader singleline" data-intl="index.underworld.title"></div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
        <div class="footer">
            <div class="footer-repo">

            </div>
            <div class="footer-legal">
                <a href='https://ko-fi.com/D1D02FFQR' target='_blank' style="pointer-events: all; color: orange;"><i class="coffee icon"></i> Give mar some shrooms</a><br/>
                Copyright <i class="copyright outline icon"></i>2022 mar21 | mar21#4673 | support@mar21.eu<br>
                Special thanks to <a href="https://www.zeraffim.com/" target='_blank' class="role-mentor clickable bright" style="pointer-events: all; font-weight: bold;">Zeraffim</a>, <b class="role-veteran bright">BoeseMelone</b>, <b class="role-mentor bright">Strider</b>, <b class="role-admin bright">Zorago</b> and <b class="role-admin bright">Acclamator</b><br>
                Distributed <b>AS IS</b>. This site is not affiliated with <b>Playa Games</b> in any way.
            </div>
        </div>
        <div class="footer-about">
            <a id="about" data-intl="index.toggle"></a>
        </div>
        <script>
            const VERSION_MAJOR = 5;

            const months = [ "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ];
            function formatDate (date) {
                return `${ date.getDate() }. ${ months[date.getMonth()] } ${ date.getFullYear() } ${ date.getHours() }:${ date.getMinutes() < 10 ? '0' : '' }${ date.getMinutes() }`;
            }

            var item = SharedPreferences.get('version', { expire: 0 });
            if (item.expire < Date.now()) {
                $.ajax(
                    "https://api.github.com/repos/hafiscz/sf-tools/commits",
                    {
                        data: {
                            per_page: 1
                        },
                        dataType: 'jsonp',
                        type: 'get'
                    }
                ).then(function (response) {
                    var date = new Date(response.data[0].commit.author.date);
                    var message = response.data[0].commit.message;
                    var sha = response.data[0].sha;

                    $.ajax(
                        `https://api.github.com/repos/hafiscz/sf-tools/compare/88b32f42210cb848c77b7891f6e47a0000876ed4...${ sha }`,
                        {
                            data: {
                                per_page: 1
                            },
                            dataType: 'jsonp',
                            type: 'get'
                        }
                    ).then(function (response2) {
                        var version = parseInt(response2.data.total_commits) + 1;
                        SharedPreferences.set('version', {
                            timestamp: date.getTime(),
                            message: message,
                            version: version,
                            expire: Date.now() + 1800000
                        })

                        $(".footer-repo").html(`v${ VERSION_MAJOR }.${ version }<br/>Last updated on ${ formatDate(date) } - ${ message }`);
                    })
                });
            } else {
                $(".footer-repo").html(`v${ VERSION_MAJOR }.${ item.version }<br/>Last updated on ${ formatDate(new Date(item.timestamp)) } - ${ item.message }`);
            }

            var showAbout = false;
            $('#about').click(function () {
                showAbout = !showAbout;

                if (showAbout) {
                    $('#sf-menu').hide();
                    $('#sf-about').show();
                } else {
                    $('#sf-menu').show();
                    $('#sf-about').hide();
                }
            });
        </script>
    </body>
</html>
